
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Kiva Project &#8212; My Knowledge Hub</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Welcome to Natural Language Processing!" href="nlp.html" />
    <link rel="prev" title="Past data stories" href="data-storytelling-past-projects.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">My Knowledge Hub</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Hello ðŸ‘‹
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="blending_the_4.html">
   Real world machine learning
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="data-storytelling.html">
   Welcome to Data Storytelling!
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="data-storytelling-past-projects.html">
     Past data stories
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Kiva Project
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nlp.html">
   Welcome to Natural Language Processing!
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="computer-vision.html">
   Welcome to Computer Vision!
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data-pipelining.html">
   Welcome to Data Pipelining!
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../past-articles/past-articles.html">
   Past Articles
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../past-articles/growth.html">
     How growth can begin for Africaâ€™s largest employer
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/main?urlpath=tree/book/ml/kiva.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/ml/kiva.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#problem">
   PROBLEM:
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#context">
     Context
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-statement">
     Problem statement
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#personal-disclaimer">
     Personal disclaimer
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#solution">
   SOLUTION:
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#python-packages-functions">
     Python Packages &amp; Functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data">
     Data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#original-data">
       1. Original Data
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#supplementary-data">
       2. Supplementary Data
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#data-summary">
       Data Summary
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exploratory-data-analysis">
     Exploratory Data Analysis
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-impact-of-kiva-donors">
       The impact of KIVA donors
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-characteristics-of-kiva-borrowers">
       The characteristics of KIVA borrowers
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#global-welfare">
     Global welfare
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conclusions">
   Conclusions
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Kiva Project</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#problem">
   PROBLEM:
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#context">
     Context
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-statement">
     Problem statement
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#personal-disclaimer">
     Personal disclaimer
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#solution">
   SOLUTION:
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#python-packages-functions">
     Python Packages &amp; Functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data">
     Data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#original-data">
       1. Original Data
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#supplementary-data">
       2. Supplementary Data
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#data-summary">
       Data Summary
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exploratory-data-analysis">
     Exploratory Data Analysis
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-impact-of-kiva-donors">
       The impact of KIVA donors
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-characteristics-of-kiva-borrowers">
       The characteristics of KIVA borrowers
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#global-welfare">
     Global welfare
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conclusions">
   Conclusions
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="kiva-project">
<h1>Kiva Project<a class="headerlink" href="#kiva-project" title="Permalink to this headline">#</a></h1>
<p><strong>(adapted from <a class="reference external" href="https://bit.ly/2J7G9f8">https://bit.ly/2J7G9f8</a>)</strong></p>
<section id="problem">
<h2>PROBLEM:<a class="headerlink" href="#problem" title="Permalink to this headline">#</a></h2>
<section id="context">
<h3>Context<a class="headerlink" href="#context" title="Permalink to this headline">#</a></h3>
<p><a class="reference external" href="http://Kiva.org">Kiva.org</a> is an online crowdfunding platform to extend financial services to poor and financially excluded people around the world. Kiva lenders have provided over $1 billion dollars in loans to over 2 million people.</p>
<p>In order to set investment priorities, help inform lenders, and understand their target communities, knowing the level of poverty of each borrower is critical. However, this requires inference based on a limited set of information for each borrower.</p>
<p>Submissions in this challenge will take the form of Python data analysis.</p>
<p>Kiva has provided a dataset of loans issued over the 2014-2018 time period, and participants are invited to use this data as well as source external public datasets to help Kiva build models for assessing borrower welfare levels. With a stronger understanding of their borrowers and their poverty levels, Kiva will be able to better assess and maximize the impact of their work.</p>
</section>
<section id="problem-statement">
<h3>Problem statement<a class="headerlink" href="#problem-statement" title="Permalink to this headline">#</a></h3>
<p>For the locations in which Kiva has active loans, the objective is to pair Kivaâ€™s data with additional data sources to estimate the welfare level of borrowers in specific regions, based on shared economic and demographic characteristics.</p>
<p>A good solution would connect the features of each loan or product to one of several poverty mapping datasets, which indicate the average level of welfare in a region on as granular a level as possible. Many datasets indicate the poverty rate in a given area, with varying levels of granularity. Kiva would like to be able to disaggregate these regional averages by gender, sector, or borrowing behavior in order to estimate a Kiva borrowerâ€™s level of welfare using all of the relevant information about them. Strong submissions will attempt to map vaguely described locations to more accurate geocodes.</p>
</section>
<section id="personal-disclaimer">
<h3>Personal disclaimer<a class="headerlink" href="#personal-disclaimer" title="Permalink to this headline">#</a></h3>
<p>From a research perspective, the results obtained are never going to be a full representation of the realities that borrowers experience. It is meant to spark a discussion around how we can identify the welfare level of borrowers and improve them where we can.</p>
</section>
</section>
<section id="solution">
<h2>SOLUTION:<a class="headerlink" href="#solution" title="Permalink to this headline">#</a></h2>
<section id="python-packages-functions">
<h3>Python Packages &amp; Functions<a class="headerlink" href="#python-packages-functions" title="Permalink to this headline">#</a></h3>
<p>Here we upload all the Python packages and datasets required for analysis.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Packages</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.dates</span> <span class="k">as</span> <span class="nn">mdates</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="data">
<h3>Data<a class="headerlink" href="#data" title="Permalink to this headline">#</a></h3>
<section id="original-data">
<h4>1. Original Data<a class="headerlink" href="#original-data" title="Permalink to this headline">#</a></h4>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">loan_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;C://Users//CT//Documents//GitHub//knowledge-hub//book//data//kiva-project//kiva_loans.csv&#39;</span><span class="p">)</span>

<span class="n">location_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;C://Users//CT//Documents//GitHub//knowledge-hub//book//data//kiva-project//kiva_mpi_region_locations.csv&#39;</span><span class="p">)</span>

<span class="n">loan_themes</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;C://Users//CT//Documents//GitHub//knowledge-hub//book//data//kiva-project//loan_theme_ids.csv&#39;</span><span class="p">)</span>

<span class="n">regional_lts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;C://Users//CT//Documents//GitHub//knowledge-hub//book//data//kiva-project//loan_themes_by_region.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="nn">Input In [3],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">loan_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;C://Users//CT//Documents//GitHub//knowledge-hub//book//data//kiva-project//kiva_loans.csv&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">location_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;C://Users//CT//Documents//GitHub//knowledge-hub//book//data//kiva-project//kiva_mpi_region_locations.csv&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">loan_themes</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;C://Users//CT//Documents//GitHub//knowledge-hub//book//data//kiva-project//loan_theme_ids.csv&#39;</span><span class="p">)</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\pandas\util\_decorators.py:311,</span> in <span class="ni">deprecate_nonkeyword_arguments.&lt;locals&gt;.decorate.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">305</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">num_allow_args</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">306</span>     <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">307</span>         <span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">arguments</span><span class="o">=</span><span class="n">arguments</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">308</span>         <span class="ne">FutureWarning</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">309</span>         <span class="n">stacklevel</span><span class="o">=</span><span class="n">stacklevel</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">310</span>     <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">311</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\pandas\io\parsers\readers.py:680,</span> in <span class="ni">read_csv</span><span class="nt">(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, squeeze, prefix, mangle_dupe_cols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, encoding_errors, dialect, error_bad_lines, warn_bad_lines, on_bad_lines, delim_whitespace, low_memory, memory_map, float_precision, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">665</span> <span class="n">kwds_defaults</span> <span class="o">=</span> <span class="n">_refine_defaults_read</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">666</span>     <span class="n">dialect</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">667</span>     <span class="n">delimiter</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">676</span>     <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;delimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;,&quot;</span><span class="p">},</span>
<span class="g g-Whitespace">    </span><span class="mi">677</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">678</span> <span class="n">kwds</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwds_defaults</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">680</span> <span class="k">return</span> <span class="n">_read</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\pandas\io\parsers\readers.py:575,</span> in <span class="ni">_read</span><span class="nt">(filepath_or_buffer, kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">572</span> <span class="n">_validate_names</span><span class="p">(</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;names&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">574</span> <span class="c1"># Create the parser.</span>
<span class="ne">--&gt; </span><span class="mi">575</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">TextFileReader</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">577</span> <span class="k">if</span> <span class="n">chunksize</span> <span class="ow">or</span> <span class="n">iterator</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">578</span>     <span class="k">return</span> <span class="n">parser</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\pandas\io\parsers\readers.py:934,</span> in <span class="ni">TextFileReader.__init__</span><span class="nt">(self, f, engine, **kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">931</span>     <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">933</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span><span class="p">:</span> <span class="n">IOHandles</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="ne">--&gt; </span><span class="mi">934</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_engine</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\pandas\io\parsers\readers.py:1218,</span> in <span class="ni">TextFileReader._make_engine</span><span class="nt">(self, f, engine)</span>
<span class="g g-Whitespace">   </span><span class="mi">1214</span>     <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;rb&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1215</span> <span class="c1"># error: No overload variant of &quot;get_handle&quot; matches argument types</span>
<span class="g g-Whitespace">   </span><span class="mi">1216</span> <span class="c1"># &quot;Union[str, PathLike[str], ReadCsvBuffer[bytes], ReadCsvBuffer[str]]&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1217</span> <span class="c1"># , &quot;str&quot;, &quot;bool&quot;, &quot;Any&quot;, &quot;Any&quot;, &quot;Any&quot;, &quot;Any&quot;, &quot;Any&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1218</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span> <span class="o">=</span> <span class="n">get_handle</span><span class="p">(</span>  <span class="c1"># type: ignore[call-overload]</span>
<span class="g g-Whitespace">   </span><span class="mi">1219</span>     <span class="n">f</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1220</span>     <span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1221</span>     <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;encoding&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1222</span>     <span class="n">compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;compression&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1223</span>     <span class="n">memory_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;memory_map&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1224</span>     <span class="n">is_text</span><span class="o">=</span><span class="n">is_text</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1225</span>     <span class="n">errors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;encoding_errors&quot;</span><span class="p">,</span> <span class="s2">&quot;strict&quot;</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1226</span>     <span class="n">storage_options</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;storage_options&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1227</span> <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1228</span> <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="g g-Whitespace">   </span><span class="mi">1229</span> <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span><span class="o">.</span><span class="n">handle</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\pandas\io\common.py:667,</span> in <span class="ni">get_handle</span><span class="nt">(path_or_buf, mode, encoding, compression, memory_map, is_text, errors, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">664</span>     <span class="n">codecs</span><span class="o">.</span><span class="n">lookup_error</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">666</span> <span class="c1"># open URLs</span>
<span class="ne">--&gt; </span><span class="mi">667</span> <span class="n">ioargs</span> <span class="o">=</span> <span class="n">_get_filepath_or_buffer</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">668</span>     <span class="n">path_or_buf</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">669</span>     <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">670</span>     <span class="n">compression</span><span class="o">=</span><span class="n">compression</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">671</span>     <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">672</span>     <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">673</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">675</span> <span class="n">handle</span> <span class="o">=</span> <span class="n">ioargs</span><span class="o">.</span><span class="n">filepath_or_buffer</span>
<span class="g g-Whitespace">    </span><span class="mi">676</span> <span class="n">handles</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">BaseBuffer</span><span class="p">]</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\pandas\io\common.py:382,</span> in <span class="ni">_get_filepath_or_buffer</span><span class="nt">(filepath_or_buffer, encoding, compression, mode, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">379</span>     <span class="k">pass</span>
<span class="g g-Whitespace">    </span><span class="mi">381</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">382</span>     <span class="n">file_obj</span> <span class="o">=</span> <span class="n">fsspec</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">383</span>         <span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">fsspec_mode</span><span class="p">,</span> <span class="o">**</span><span class="p">(</span><span class="n">storage_options</span> <span class="ow">or</span> <span class="p">{})</span>
<span class="g g-Whitespace">    </span><span class="mi">384</span>     <span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">385</span> <span class="c1"># GH 34626 Reads from Public Buckets without Credentials needs anon=True</span>
<span class="g g-Whitespace">    </span><span class="mi">386</span> <span class="k">except</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">err_types_to_retry_with_anon</span><span class="p">):</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\fsspec\core.py:141,</span> in <span class="ni">OpenFile.open</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">133</span> <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">134</span>     <span class="sd">&quot;&quot;&quot;Materialise this as a real open file without context</span>
<span class="g g-Whitespace">    </span><span class="mi">135</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">136</span><span class="sd">     The file should be explicitly closed to avoid enclosed file</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">    </span><span class="mi">139</span><span class="sd">     been deleted; but a with-context is better style.</span>
<span class="g g-Whitespace">    </span><span class="mi">140</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">141</span>     <span class="n">out</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__enter__</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">142</span>     <span class="n">closer</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">close</span>
<span class="g g-Whitespace">    </span><span class="mi">143</span>     <span class="n">fobjects</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fobjects</span><span class="o">.</span><span class="n">copy</span><span class="p">()[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\fsspec\core.py:104,</span> in <span class="ni">OpenFile.__enter__</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span> <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">102</span>     <span class="n">mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;b&quot;</span>
<span class="ne">--&gt; </span><span class="mi">104</span>     <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">106</span>     <span class="bp">self</span><span class="o">.</span><span class="n">fobjects</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">108</span>     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">compression</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\fsspec\spec.py:1034,</span> in <span class="ni">AbstractFileSystem.open</span><span class="nt">(self, path, mode, block_size, cache_options, compression, **kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">1032</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1033</span>     <span class="n">ac</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;autocommit&quot;</span><span class="p">,</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_intrans</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1034</span>     <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1035</span>         <span class="n">path</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1036</span>         <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1037</span>         <span class="n">block_size</span><span class="o">=</span><span class="n">block_size</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1038</span>         <span class="n">autocommit</span><span class="o">=</span><span class="n">ac</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1039</span>         <span class="n">cache_options</span><span class="o">=</span><span class="n">cache_options</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1040</span>         <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1041</span>     <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1042</span>     <span class="k">if</span> <span class="n">compression</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1043</span>         <span class="kn">from</span> <span class="nn">fsspec.compression</span> <span class="kn">import</span> <span class="n">compr</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\fsspec\implementations\local.py:162,</span> in <span class="ni">LocalFileSystem._open</span><span class="nt">(self, path, mode, block_size, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">160</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_mkdir</span> <span class="ow">and</span> <span class="s2">&quot;w&quot;</span> <span class="ow">in</span> <span class="n">mode</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">161</span>     <span class="bp">self</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">(</span><span class="n">path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">162</span> <span class="k">return</span> <span class="n">LocalFileOpener</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">fs</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\fsspec\implementations\local.py:260,</span> in <span class="ni">LocalFileOpener.__init__</span><span class="nt">(self, path, mode, autocommit, fs, compression, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">258</span> <span class="bp">self</span><span class="o">.</span><span class="n">compression</span> <span class="o">=</span> <span class="n">get_compression</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">compression</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">259</span> <span class="bp">self</span><span class="o">.</span><span class="n">blocksize</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">DEFAULT_BUFFER_SIZE</span>
<span class="ne">--&gt; </span><span class="mi">260</span> <span class="bp">self</span><span class="o">.</span><span class="n">_open</span><span class="p">()</span>

<span class="nn">File c:\users\ct\documents\github\knowledge-hub\venv\lib\site-packages\fsspec\implementations\local.py:265,</span> in <span class="ni">LocalFileOpener._open</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">263</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">closed</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">264</span>     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">autocommit</span> <span class="ow">or</span> <span class="s2">&quot;w&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">265</span>         <span class="bp">self</span><span class="o">.</span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">266</span>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">compression</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">267</span>             <span class="n">compress</span> <span class="o">=</span> <span class="n">compr</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">compression</span><span class="p">]</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;C:/Users/CT/Documents/GitHub/knowledge-hub/book/data/kiva-project/kiva_loans.csv&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;loan_data&#39;</span><span class="p">:</span><span class="n">loan_data</span><span class="p">,</span> <span class="s1">&#39;location_data&#39;</span><span class="p">:</span><span class="n">location_data</span><span class="p">,</span>
       <span class="s1">&#39;loan_themes&#39;</span><span class="p">:</span><span class="n">loan_themes</span><span class="p">,</span> <span class="s1">&#39;regional_lts&#39;</span><span class="p">:</span><span class="n">regional_lts</span><span class="p">}</span>

<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">dfs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="o">+</span><span class="s1">&#39; shape:&#39;</span><span class="p">),</span> <span class="n">val</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>loan_data shape: (671205, 20)
location_data shape: (2772, 9)
loan_themes shape: (779092, 4)
regional_lts shape: (15736, 21)
</pre></div>
</div>
</div>
</div>
<br>
<p><u><strong>Descriptions of the original datasets</strong></u></p>
<p>There are four data sources provided by Kiva:</p>
<ul class="simple">
<li><p><em><strong>loan_data</strong></em></p>
<ol class="simple">
<li><p><strong>id</strong> - Unique ID for loan</p></li>
<li><p><strong>funded_amount</strong> - The amount disbursed by Kiva to the field agent (USD)</p></li>
<li><p><strong>loan_amount</strong> - The amount disbursed by the field agent to the borrower (USD)</p></li>
<li><p><strong>activity</strong> - More granular category</p></li>
<li><p><strong>sector</strong> - High level category</p></li>
<li><p><strong>use</strong> - Exact usage of loan amount</p></li>
<li><p><strong>country_code</strong> - ISO country code of country in which loan was disbursed</p></li>
<li><p><strong>country</strong> - Full country name of country in which loan was disbursed</p></li>
<li><p><strong>region</strong> - Full region name within the country</p></li>
<li><p><strong>currency</strong> - The currency in which the loan was disbursed</p></li>
<li><p><strong>partner_id</strong> - ID of partner organization</p></li>
<li><p><strong>posted_time</strong> - The time at which the loan is posted on Kiva by the field agent</p></li>
<li><p><strong>disbursed_time</strong> - The time at which the loan is disbursed by the field agent to the borrower</p></li>
<li><p><strong>funded_time</strong> - The time at which the loan posted to Kiva gets funded by lenders completely</p></li>
<li><p><strong>term_in_months</strong> - The duration for which the loan was disbursed in months</p></li>
<li><p><strong>lender_count</strong> - The total number of lenders that contributed to this loan</p></li>
<li><p><strong>tags</strong></p></li>
<li><p><strong>borrower_genders</strong> - Comma separated M,F letters, where each instance represents a single male/female in the group</p></li>
<li><p><strong>repayment_interval</strong></p></li>
<li><p><strong>date</strong></p></li>
</ol>
</li>
</ul>
<ul class="simple">
<li><p><em><strong>location_data</strong></em></p>
<ol class="simple">
<li><p><strong>LocationName</strong> - region, country</p></li>
<li><p><strong>ISO</strong> - some sort of unique abbreviation for country</p></li>
<li><p><strong>country</strong> - country</p></li>
<li><p><strong>region</strong> - region within country</p></li>
<li><p><strong>world_region</strong> - parts of the world</p></li>
<li><p><strong>MPI</strong> - multidimensional poverty index</p></li>
<li><p><strong>geo</strong> - (latitude, longitude)</p></li>
<li><p><strong>lat</strong> - latitude</p></li>
<li><p><strong>lon</strong> - longitude</p></li>
</ol>
</li>
</ul>
<ul class="simple">
<li><p><em><strong>loan_themes</strong></em></p>
<ol class="simple">
<li><p><strong>id</strong> - Unique ID for loan (Loan ID)</p></li>
<li><p><strong>Loan Theme ID</strong> - ID for Loan Theme</p></li>
<li><p><strong>Loan Theme Type</strong> - Category name of type of loan</p></li>
<li><p><strong>Partner ID</strong></p></li>
</ol>
</li>
</ul>
<ul class="simple">
<li><p><em><strong>regional_lts</strong></em></p>
<ol class="simple">
<li><p><strong>Partner ID</strong></p></li>
<li><p><strong>Field Partner Name</strong></p></li>
<li><p><strong>sector</strong></p></li>
<li><p><strong>Loan Theme ID</strong></p></li>
<li><p><strong>Loan Theme Type</strong></p></li>
<li><p><strong>country</strong></p></li>
<li><p><strong>forkiva</strong></p></li>
<li><p><strong>region</strong></p></li>
<li><p><strong>geocode_old</strong></p></li>
<li><p><strong>ISO</strong></p></li>
<li><p><strong>number</strong></p></li>
<li><p><strong>amount</strong></p></li>
<li><p><strong>LocationName</strong></p></li>
<li><p><strong>geocode</strong></p></li>
<li><p><strong>names</strong></p></li>
<li><p><strong>geo</strong></p></li>
<li><p><strong>lat</strong></p></li>
<li><p><strong>lon</strong></p></li>
<li><p><strong>mpi_region</strong></p></li>
<li><p><strong>mpi_geo</strong></p></li>
<li><p><strong>rural_pct</strong></p></li>
</ol>
</li>
</ul>
<br>
</section>
<section id="supplementary-data">
<h4>2. Supplementary Data<a class="headerlink" href="#supplementary-data" title="Permalink to this headline">#</a></h4>
<p>In this section, we aim to gather the following data from the World Bank:</p>
<p><a class="reference external" href="https://www.quora.com/What-does-per-capita-expenditure-mean?share=1">Per Capita Expenditure (PCE)</a> for each country - this is the total market value of all purchases in a country divided by that countryâ€™s total population (data: <a class="reference external" href="https://bit.ly/3blw0be">https://bit.ly/3blw0be</a>)</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Per Capita Expenditure</span>
<span class="n">PCE_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;C://Users//CT//Documents//GitHub//knowledge-hub//book//data//kiva-project//PCE data.tsv&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;PCE data shape:&#39;</span><span class="p">,</span><span class="n">PCE_data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="n">PCE_data</span> <span class="o">=</span> <span class="n">PCE_data</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;Unnamed: 61&#39;</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># dropping the column containing only NaN values</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PCE data shape: (185, 62)
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># add this dataset to the dictionary</span>
<span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;PCE_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PCE_data</span>

<span class="n">dfs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_keys([&#39;loan_data&#39;, &#39;location_data&#39;, &#39;loan_themes&#39;, &#39;regional_lts&#39;, &#39;PCE_data&#39;])
</pre></div>
</div>
</div>
</div>
<br>
</section>
<section id="data-summary">
<h4>Data Summary<a class="headerlink" href="#data-summary" title="Permalink to this headline">#</a></h4>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">dfs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

    <span class="c1"># 1. Get the summary table</span>
    <span class="n">num_summary</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
    <span class="n">cat_summary</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">val</span><span class="o">.</span><span class="n">dtypes</span><span class="o">==</span><span class="n">np</span><span class="o">.</span><span class="n">object</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;O&#39;</span><span class="p">])</span>
    
    <span class="c1"># 2. Display it</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">SUMMARY STATISTICS WITHOUT AGGREGATION: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">),</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">num_summary</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">cat_summary</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SUMMARY STATISTICS WITHOUT AGGREGATION: loan_data 
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>funded_amount</th>
      <th>loan_amount</th>
      <th>partner_id</th>
      <th>term_in_months</th>
      <th>lender_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>6.712050e+05</td>
      <td>671205.000000</td>
      <td>671205.000000</td>
      <td>657698.000000</td>
      <td>671205.000000</td>
      <td>671205.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>9.932486e+05</td>
      <td>785.995061</td>
      <td>842.397107</td>
      <td>178.199616</td>
      <td>13.739022</td>
      <td>20.590922</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.966113e+05</td>
      <td>1130.398941</td>
      <td>1198.660073</td>
      <td>94.247581</td>
      <td>8.598919</td>
      <td>28.459551</td>
    </tr>
    <tr>
      <th>min</th>
      <td>6.530470e+05</td>
      <td>0.000000</td>
      <td>25.000000</td>
      <td>9.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>8.230720e+05</td>
      <td>250.000000</td>
      <td>275.000000</td>
      <td>126.000000</td>
      <td>8.000000</td>
      <td>7.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>9.927800e+05</td>
      <td>450.000000</td>
      <td>500.000000</td>
      <td>145.000000</td>
      <td>13.000000</td>
      <td>13.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.163653e+06</td>
      <td>900.000000</td>
      <td>1000.000000</td>
      <td>204.000000</td>
      <td>14.000000</td>
      <td>24.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.340339e+06</td>
      <td>100000.000000</td>
      <td>100000.000000</td>
      <td>536.000000</td>
      <td>158.000000</td>
      <td>2986.000000</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>activity</th>
      <th>sector</th>
      <th>use</th>
      <th>country_code</th>
      <th>country</th>
      <th>region</th>
      <th>currency</th>
      <th>posted_time</th>
      <th>disbursed_time</th>
      <th>funded_time</th>
      <th>tags</th>
      <th>borrower_genders</th>
      <th>repayment_interval</th>
      <th>date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>671205</td>
      <td>671205</td>
      <td>666973</td>
      <td>671197</td>
      <td>671205</td>
      <td>614405</td>
      <td>671205</td>
      <td>671205</td>
      <td>668809</td>
      <td>622874</td>
      <td>499789</td>
      <td>666984</td>
      <td>671205</td>
      <td>671205</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>163</td>
      <td>15</td>
      <td>424912</td>
      <td>86</td>
      <td>87</td>
      <td>12695</td>
      <td>67</td>
      <td>667399</td>
      <td>5719</td>
      <td>498007</td>
      <td>86719</td>
      <td>11298</td>
      <td>4</td>
      <td>1298</td>
    </tr>
    <tr>
      <th>top</th>
      <td>Farming</td>
      <td>Agriculture</td>
      <td>to buy a water filter to provide safe drinking...</td>
      <td>PH</td>
      <td>Philippines</td>
      <td>Kaduna</td>
      <td>PHP</td>
      <td>2017-05-15 00:00:00+00:00</td>
      <td>2017-02-01 08:00:00+00:00</td>
      <td>2016-09-21 13:03:24+00:00</td>
      <td>user_favorite</td>
      <td>female</td>
      <td>monthly</td>
      <td>2017-03-20</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>72955</td>
      <td>180302</td>
      <td>5217</td>
      <td>160441</td>
      <td>160441</td>
      <td>10000</td>
      <td>160440</td>
      <td>25</td>
      <td>2800</td>
      <td>33</td>
      <td>27088</td>
      <td>426502</td>
      <td>342717</td>
      <td>1308</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SUMMARY STATISTICS WITHOUT AGGREGATION: location_data 
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MPI</th>
      <th>lat</th>
      <th>lon</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>984.000000</td>
      <td>892.000000</td>
      <td>892.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.211330</td>
      <td>9.169710</td>
      <td>16.635888</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.183621</td>
      <td>16.484531</td>
      <td>61.234566</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>-34.947896</td>
      <td>-122.747131</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.053000</td>
      <td>-1.027901</td>
      <td>-12.819854</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.155000</td>
      <td>11.211379</td>
      <td>26.419389</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.341500</td>
      <td>18.084292</td>
      <td>47.019436</td>
    </tr>
    <tr>
      <th>max</th>
      <td>0.744000</td>
      <td>49.264748</td>
      <td>138.581284</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>LocationName</th>
      <th>ISO</th>
      <th>country</th>
      <th>region</th>
      <th>world_region</th>
      <th>geo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>984</td>
      <td>1008</td>
      <td>1008</td>
      <td>984</td>
      <td>1008</td>
      <td>2772</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>984</td>
      <td>102</td>
      <td>102</td>
      <td>928</td>
      <td>6</td>
      <td>881</td>
    </tr>
    <tr>
      <th>top</th>
      <td>Bombali, Sierra Leone</td>
      <td>NGA</td>
      <td>Nigeria</td>
      <td>Eastern</td>
      <td>Sub-Saharan Africa</td>
      <td>(1000.0, 1000.0)</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>1</td>
      <td>37</td>
      <td>37</td>
      <td>8</td>
      <td>432</td>
      <td>1880</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SUMMARY STATISTICS WITHOUT AGGREGATION: loan_themes 
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>Partner ID</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>7.790920e+05</td>
      <td>764279.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.047475e+06</td>
      <td>180.825840</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.282538e+05</td>
      <td>97.914029</td>
    </tr>
    <tr>
      <th>min</th>
      <td>6.386310e+05</td>
      <td>9.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>8.499768e+05</td>
      <td>126.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.046528e+06</td>
      <td>145.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.244768e+06</td>
      <td>204.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.444243e+06</td>
      <td>557.000000</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Loan Theme ID</th>
      <th>Loan Theme Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>764279</td>
      <td>764279</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>956</td>
      <td>203</td>
    </tr>
    <tr>
      <th>top</th>
      <td>a1050000000wf0q</td>
      <td>General</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>110264</td>
      <td>380693</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SUMMARY STATISTICS WITHOUT AGGREGATION: regional_lts 
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Partner ID</th>
      <th>number</th>
      <th>amount</th>
      <th>lat</th>
      <th>lon</th>
      <th>rural_pct</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>15736.000000</td>
      <td>15736.000000</td>
      <td>1.573600e+04</td>
      <td>13662.000000</td>
      <td>13662.000000</td>
      <td>14344.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>191.376144</td>
      <td>53.628432</td>
      <td>2.003991e+04</td>
      <td>14.328878</td>
      <td>29.433569</td>
      <td>68.084635</td>
    </tr>
    <tr>
      <th>std</th>
      <td>118.705003</td>
      <td>403.079799</td>
      <td>9.636941e+04</td>
      <td>16.757689</td>
      <td>83.255739</td>
      <td>26.550064</td>
    </tr>
    <tr>
      <th>min</th>
      <td>9.000000</td>
      <td>1.000000</td>
      <td>2.500000e+01</td>
      <td>-34.610548</td>
      <td>-172.790661</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>123.000000</td>
      <td>1.000000</td>
      <td>9.500000e+02</td>
      <td>6.266728</td>
      <td>-71.967463</td>
      <td>60.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>154.000000</td>
      <td>4.000000</td>
      <td>2.600000e+03</td>
      <td>13.484101</td>
      <td>41.899993</td>
      <td>73.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>217.000000</td>
      <td>15.000000</td>
      <td>8.750000e+03</td>
      <td>22.189940</td>
      <td>106.677321</td>
      <td>85.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>545.000000</td>
      <td>22538.000000</td>
      <td>4.929900e+06</td>
      <td>51.314017</td>
      <td>159.972900</td>
      <td>100.000000</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Field Partner Name</th>
      <th>sector</th>
      <th>Loan Theme ID</th>
      <th>Loan Theme Type</th>
      <th>country</th>
      <th>forkiva</th>
      <th>region</th>
      <th>geocode_old</th>
      <th>ISO</th>
      <th>LocationName</th>
      <th>geocode</th>
      <th>names</th>
      <th>geo</th>
      <th>mpi_region</th>
      <th>mpi_geo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>15736</td>
      <td>15736</td>
      <td>15736</td>
      <td>15736</td>
      <td>15736</td>
      <td>15736</td>
      <td>15736</td>
      <td>1200</td>
      <td>15722</td>
      <td>15736</td>
      <td>13662</td>
      <td>13661</td>
      <td>15736</td>
      <td>15722</td>
      <td>9671</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>302</td>
      <td>11</td>
      <td>718</td>
      <td>170</td>
      <td>79</td>
      <td>2</td>
      <td>9526</td>
      <td>340</td>
      <td>77</td>
      <td>9561</td>
      <td>6557</td>
      <td>6275</td>
      <td>6558</td>
      <td>392</td>
      <td>335</td>
    </tr>
    <tr>
      <th>top</th>
      <td>Alalay sa Kaunlaran (ASKI)</td>
      <td>General Financial Inclusion</td>
      <td>a1050000000wf0V</td>
      <td>General</td>
      <td>Philippines</td>
      <td>No</td>
      <td>Chouf</td>
      <td>(-1.2833333, 36.8166667)</td>
      <td>PHL</td>
      <td>Chouf, Lebanon</td>
      <td>[(19.7126764, 105.8393447)]</td>
      <td>Philippines</td>
      <td>(1000.0, 1000.0)</td>
      <td>Northern Mindanao, Philippines</td>
      <td>(8.020163499999999, 124.6856509)</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>1207</td>
      <td>13679</td>
      <td>1152</td>
      <td>5661</td>
      <td>3467</td>
      <td>13211</td>
      <td>25</td>
      <td>20</td>
      <td>3467</td>
      <td>25</td>
      <td>43</td>
      <td>137</td>
      <td>2074</td>
      <td>1174</td>
      <td>1174</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SUMMARY STATISTICS WITHOUT AGGREGATION: PCE_data 
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>1960</th>
      <th>1961</th>
      <th>1962</th>
      <th>1963</th>
      <th>1964</th>
      <th>1965</th>
      <th>1966</th>
      <th>1967</th>
      <th>1968</th>
      <th>...</th>
      <th>2010</th>
      <th>2011</th>
      <th>2012</th>
      <th>2013</th>
      <th>2014</th>
      <th>2015</th>
      <th>2016</th>
      <th>2017</th>
      <th>2018</th>
      <th>2019</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>185</td>
      <td>43</td>
      <td>44</td>
      <td>45</td>
      <td>45</td>
      <td>47</td>
      <td>50</td>
      <td>51</td>
      <td>52</td>
      <td>52</td>
      <td>...</td>
      <td>178</td>
      <td>164</td>
      <td>163</td>
      <td>162</td>
      <td>160</td>
      <td>158</td>
      <td>157</td>
      <td>156</td>
      <td>152</td>
      <td>137</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>185</td>
      <td>43</td>
      <td>44</td>
      <td>45</td>
      <td>45</td>
      <td>47</td>
      <td>50</td>
      <td>51</td>
      <td>52</td>
      <td>52</td>
      <td>...</td>
      <td>178</td>
      <td>164</td>
      <td>163</td>
      <td>162</td>
      <td>160</td>
      <td>158</td>
      <td>157</td>
      <td>156</td>
      <td>152</td>
      <td>137</td>
    </tr>
    <tr>
      <th>top</th>
      <td>Portugal</td>
      <td>358.28</td>
      <td>694.83</td>
      <td>4,162.15</td>
      <td>1,022.73</td>
      <td>734.25</td>
      <td>12,299.20</td>
      <td>782.56</td>
      <td>577.19</td>
      <td>3,813.85</td>
      <td>...</td>
      <td>1,890.92</td>
      <td>1,257.63</td>
      <td>2,851.80</td>
      <td>563.96</td>
      <td>9,436.84</td>
      <td>39,584.00</td>
      <td>19,181.30</td>
      <td>9,555.73</td>
      <td>2,877.38</td>
      <td>1,413.68</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>4 rows Ã— 61 columns</p>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>1960</th>
      <th>1961</th>
      <th>1962</th>
      <th>1963</th>
      <th>1964</th>
      <th>1965</th>
      <th>1966</th>
      <th>1967</th>
      <th>1968</th>
      <th>...</th>
      <th>2010</th>
      <th>2011</th>
      <th>2012</th>
      <th>2013</th>
      <th>2014</th>
      <th>2015</th>
      <th>2016</th>
      <th>2017</th>
      <th>2018</th>
      <th>2019</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>185</td>
      <td>43</td>
      <td>44</td>
      <td>45</td>
      <td>45</td>
      <td>47</td>
      <td>50</td>
      <td>51</td>
      <td>52</td>
      <td>52</td>
      <td>...</td>
      <td>178</td>
      <td>164</td>
      <td>163</td>
      <td>162</td>
      <td>160</td>
      <td>158</td>
      <td>157</td>
      <td>156</td>
      <td>152</td>
      <td>137</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>185</td>
      <td>43</td>
      <td>44</td>
      <td>45</td>
      <td>45</td>
      <td>47</td>
      <td>50</td>
      <td>51</td>
      <td>52</td>
      <td>52</td>
      <td>...</td>
      <td>178</td>
      <td>164</td>
      <td>163</td>
      <td>162</td>
      <td>160</td>
      <td>158</td>
      <td>157</td>
      <td>156</td>
      <td>152</td>
      <td>137</td>
    </tr>
    <tr>
      <th>top</th>
      <td>Portugal</td>
      <td>358.28</td>
      <td>694.83</td>
      <td>4,162.15</td>
      <td>1,022.73</td>
      <td>734.25</td>
      <td>12,299.20</td>
      <td>782.56</td>
      <td>577.19</td>
      <td>3,813.85</td>
      <td>...</td>
      <td>1,890.92</td>
      <td>1,257.63</td>
      <td>2,851.80</td>
      <td>563.96</td>
      <td>9,436.84</td>
      <td>39,584.00</td>
      <td>19,181.30</td>
      <td>9,555.73</td>
      <td>2,877.38</td>
      <td>1,413.68</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>4 rows Ã— 61 columns</p>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="exploratory-data-analysis">
<h3>Exploratory Data Analysis<a class="headerlink" href="#exploratory-data-analysis" title="Permalink to this headline">#</a></h3>
<section id="the-impact-of-kiva-donors">
<h4>The impact of KIVA donors<a class="headerlink" href="#the-impact-of-kiva-donors" title="Permalink to this headline">#</a></h4>
<p>In this section, we seek to explore the data to answer certain questions around KIVA donor contributions.</p>
<br>
<p><em><strong>1. How much of the total loan amount has Kiva financed?</strong></em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Calculate the percentage of loan requests that have been funded</span>
<span class="n">percentage1</span> <span class="o">=</span> <span class="p">(</span><span class="n">loan_data</span><span class="o">.</span><span class="n">funded_amount</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="n">loan_data</span><span class="o">.</span><span class="n">loan_amount</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span>
<span class="n">percentage1</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">percentage1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># 2. Display the result</span>
<span class="n">status</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Financed by KIVA&#39;</span><span class="p">,</span><span class="s1">&#39;Not financed by KIVA&#39;</span><span class="p">]</span>

<span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">percentage1</span><span class="p">,</span> <span class="p">(</span><span class="mi">100</span><span class="o">-</span><span class="n">percentage1</span><span class="p">)]</span>

<span class="n">fig1</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.2f%%</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
        <span class="n">colors</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">,</span><span class="s1">&#39;#cbcce7&#39;</span><span class="p">]))</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>  <span class="c1"># Equal aspect ratio ensures that pie is drawn as a circle.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_16_0.png" src="../_images/kiva_16_0.png" />
</div>
</div>
<br>
<p><em><strong>2. How much money have Kiva donors contributed over time?</strong></em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;DAILY CONTRIBUTIONS OF KIVA DONORS AS A COLLECTIVE&#39;</span><span class="p">)</span>

<span class="c1"># convert datetime values to appropriate formats</span>
<span class="n">loan_data</span><span class="p">[</span><span class="s1">&#39;posted_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">loan_data</span><span class="p">[</span><span class="s1">&#39;posted_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;datetime64&#39;</span><span class="p">)</span>
<span class="n">loan_data</span><span class="p">[</span><span class="s1">&#39;disbursed_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">loan_data</span><span class="p">[</span><span class="s1">&#39;disbursed_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;datetime64&#39;</span><span class="p">)</span>
<span class="n">loan_data</span><span class="p">[</span><span class="s1">&#39;funded_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">loan_data</span><span class="p">[</span><span class="s1">&#39;funded_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;datetime64&#39;</span><span class="p">)</span>

<span class="c1"># pick out dates</span>
<span class="n">loan_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;disbursement_date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">loan_data</span><span class="p">[</span><span class="s1">&#39;disbursed_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>

<span class="c1"># create a pivot-table</span>
<span class="n">tab1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;disbursement_date&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>

<span class="c1"># plot this table</span>
<span class="kn">from</span> <span class="nn">pandas.plotting</span> <span class="kn">import</span> <span class="n">register_matplotlib_converters</span>
<span class="n">register_matplotlib_converters</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tab1</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">tab1</span><span class="p">[</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="c1"># rotate and align the tick labels so they look better</span>
<span class="n">fig</span><span class="o">.</span><span class="n">autofmt_xdate</span><span class="p">()</span>

<span class="c1"># declare the title and show the completed graph</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Dates&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Funded amount (in million USD)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> DAILY CONTRIBUTIONS OF KIVA DONORS AS A COLLECTIVE
</pre></div>
</div>
<img alt="../_images/kiva_18_1.png" src="../_images/kiva_18_1.png" />
</div>
</div>
<br>
<p><em><strong>3. How much money have Kiva donors given to individual loans?</strong></em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a pivot-table</span>
<span class="n">loan_count_per_funded_amount</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>

<span class="c1"># rename the column</span>
<span class="n">loan_count_per_funded_amount</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">]</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">loan_count_per_funded_amount</span> <span class="o">=</span> <span class="n">loan_count_per_funded_amount</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># and display top 10 results</span>
<span class="n">amounts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;225&#39;</span><span class="p">,</span><span class="s1">&#39;300&#39;</span><span class="p">,</span><span class="s1">&#39;200&#39;</span><span class="p">,</span><span class="s1">&#39;500&#39;</span><span class="p">,</span><span class="s1">&#39;250&#39;</span><span class="p">,</span><span class="s1">&#39;125&#39;</span><span class="p">,</span><span class="s1">&#39;400&#39;</span><span class="p">,</span><span class="s1">&#39;350&#39;</span><span class="p">,</span><span class="s1">&#39;325&#39;</span><span class="p">,</span><span class="s1">&#39;275&#39;</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">amounts</span><span class="p">,</span><span class="n">loan_count_per_funded_amount</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of loans&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">amounts</span><span class="p">,</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Top 10 fund amounts given to each loan (in USD)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;THE MOST COMMON KIVA DONATION AMOUNTS&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_20_0.png" src="../_images/kiva_20_0.png" />
</div>
</div>
<br>
<p><em><strong>4. How much money have Kiva donors given to individual countries?</strong></em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a pivot-table</span>
<span class="n">tab2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">tab2</span> <span class="o">=</span> <span class="n">tab2</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># rename the aggregated column to an appropiate label</span>
<span class="n">tab2</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sum_of_funded_amount&#39;</span><span class="p">]</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">tab2</span> <span class="o">=</span> <span class="n">tab2</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">])</span>

<span class="c1"># and display top 10 results</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],(</span><span class="n">tab2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">1000000</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Funding in million USD&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Top 10 countries&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;COUNTRIES THAT RECEIVED THE MOST IN KIVA FUNDING&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_22_0.png" src="../_images/kiva_22_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a pivot-table</span>
<span class="n">loans_per_country</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">loans_per_country</span> <span class="o">=</span> <span class="n">loans_per_country</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># rename the aggregated column to an appropiate label</span>
<span class="n">loans_per_country</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">]</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">loans_per_country</span> <span class="o">=</span> <span class="n">loans_per_country</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">])</span>

<span class="c1"># and display top 10 results</span>
<span class="n">loans_per_country</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># and display top 10 results</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">loans_per_country</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">loans_per_country</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of loans&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Top 10 countries&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;COUNTRIES THAT HAD THE HIGHEST NUMBER OF LOANS ON KIVA&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_23_0.png" src="../_images/kiva_23_0.png" />
</div>
</div>
<p>This shows that the top 10 countries in terms of the number of loans and amount of funding from KIVA were the same and each country maintained its position.</p>
<p>Countries that had the highest contribution per loan were:</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># initial status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab2 before merge: &#39;</span><span class="p">,</span> <span class="n">tab2</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># join the data, keeping only relevant entries</span>
<span class="n">tab2</span> <span class="o">=</span> <span class="n">tab2</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">loans_per_country</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;country&#39;</span><span class="p">)</span>

<span class="c1"># final status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab2 after merge: &#39;</span><span class="p">,</span> <span class="n">tab2</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The shape of tab2 before merge:  (87, 2)
The shape of tab2 after merge:  (87, 3)
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># add a calculated column to the newly merged tab2</span>
<span class="n">tab2</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;contribution_per_loan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tab2</span><span class="p">[</span><span class="s1">&#39;sum_of_funded_amount&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">tab2</span><span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">]</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">tab2</span> <span class="o">=</span> <span class="n">tab2</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;contribution_per_loan&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># and display top 10 results</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="nb">round</span><span class="p">(</span><span class="n">tab2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="mi">2</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Kiva donor contribution per loan&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Top 10 countries&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;COUNTRIES THAT HAD THE HIGHEST CONTRIBUTION PER LOAN ON KIVA&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_26_0.png" src="../_images/kiva_26_0.png" />
</div>
</div>
<p>Countries that had the lowest contribution per loan were:</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># add a calculated column to the newly merged tab2</span>
<span class="n">tab2</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;contribution_per_loan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tab2</span><span class="p">[</span><span class="s1">&#39;sum_of_funded_amount&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">tab2</span><span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">]</span>

<span class="c1"># sort the results in ascending order</span>
<span class="n">tab2</span> <span class="o">=</span> <span class="n">tab2</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;contribution_per_loan&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># and display top 10 results</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="nb">round</span><span class="p">(</span><span class="n">tab2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="mi">2</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Kiva donor contribution per loan&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Bottom 10 countries&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;COUNTRIES THAT HAD THE LOWEST CONTRIBUTION PER LOAN ON KIVA&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_28_0.png" src="../_images/kiva_28_0.png" />
</div>
</div>
<br>
<p><em><strong>5. What is the geographical footprint of where funds given by KIVA donors end up?</strong></em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># make a copy of the loan_data dataset and combine it with partner data</span>
<span class="n">loan_data_copy</span> <span class="o">=</span> <span class="n">loan_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># ensure that the common column is the same datatype and they share the same name</span>
<span class="c1"># the datatype chosen was float64 to preserve any decimal points</span>
<span class="nb">print</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="c1"># original name; stays the same</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">regional_lts</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="c1">#original name - will be changed</span>
<span class="c1">#change column name</span>
<span class="n">regional_lts</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;partner_id&#39;</span><span class="p">,</span> <span class="s1">&#39;Field Partner Name&#39;</span><span class="p">,</span> <span class="s1">&#39;sector&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;Loan Theme ID&#39;</span><span class="p">,</span> <span class="s1">&#39;Loan Theme Type&#39;</span><span class="p">,</span> <span class="s1">&#39;country&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;forkiva&#39;</span><span class="p">,</span> <span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="s1">&#39;geocode_old&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;ISO&#39;</span><span class="p">,</span> <span class="s1">&#39;number&#39;</span><span class="p">,</span> <span class="s1">&#39;amount&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;LocationName&#39;</span><span class="p">,</span> <span class="s1">&#39;geocode&#39;</span><span class="p">,</span> <span class="s1">&#39;names&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;geo&#39;</span><span class="p">,</span> <span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="s1">&#39;lon&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;mpi_region&#39;</span><span class="p">,</span> <span class="s1">&#39;mpi_geo&#39;</span><span class="p">,</span> <span class="s1">&#39;rural_pct&#39;</span><span class="p">]</span>
<span class="c1"># confirm change</span>
<span class="nb">print</span><span class="p">(</span><span class="n">regional_lts</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="c1"># change the datatype</span>
<span class="n">regional_lts</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">regional_lts</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>partner_id

Partner ID
partner_id
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a pivot-table</span>
<span class="n">tab3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;partner_id&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">tab3</span> <span class="o">=</span> <span class="n">tab3</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># rename the aggregated column to an appropiate label</span>
<span class="n">tab3</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sum_of_funded_amount&#39;</span><span class="p">]</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">tab3</span> <span class="o">=</span> <span class="n">tab3</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;partner_id&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create another pivot-table</span>
<span class="n">tab4</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">regional_lts</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;amount&#39;</span><span class="p">,</span>
                      <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;partner_id&#39;</span><span class="p">,</span> <span class="s1">&#39;Field Partner Name&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;country&#39;</span><span class="p">],</span>
                      <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">tab4</span> <span class="o">=</span> <span class="n">tab4</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># rename the aggregated column to an appropiate label</span>
<span class="n">tab4</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;count_of_amount&#39;</span><span class="p">]</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">tab4</span> <span class="o">=</span> <span class="n">tab4</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;partner_id&#39;</span><span class="p">,</span> <span class="s1">&#39;Field Partner Name&#39;</span><span class="p">,</span> <span class="s1">&#39;country&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a third pivot-table</span>
<span class="n">tab5</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;partner_id&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">tab5</span> <span class="o">=</span> <span class="n">tab5</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># rename the aggregated column to an appropiate label</span>
<span class="n">tab5</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">]</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">tab5</span> <span class="o">=</span> <span class="n">tab5</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;partner_id&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># initial status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab3 before merge: &#39;</span><span class="p">,</span> <span class="n">tab3</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># join the data, keeping only relevant entries</span>
<span class="n">tab3</span> <span class="o">=</span> <span class="n">tab3</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">tab5</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;partner_id&#39;</span><span class="p">)</span>

<span class="c1"># final status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab3 after merge: &#39;</span><span class="p">,</span> <span class="n">tab3</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>


<span class="c1"># initial status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab3 before merge: &#39;</span><span class="p">,</span> <span class="n">tab3</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># join the data, keeping only relevant entries</span>
<span class="n">tab3</span> <span class="o">=</span> <span class="n">tab3</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">tab4</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;partner_id&#39;</span><span class="p">)</span>

<span class="c1"># final status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab3 after merge: &#39;</span><span class="p">,</span> <span class="n">tab3</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>


<span class="n">percentage2</span> <span class="o">=</span> <span class="n">tab3</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">366</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">percentage2</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">percentage2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Out of the 366 partners that disbursed loans, KIVA had the contact details of &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">percentage2</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;</span><span class="si">% o</span><span class="s1">f them.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The shape of tab3 before merge:  (366, 2)
The shape of tab3 after merge:  (366, 3)
The shape of tab3 before merge:  (366, 3)
The shape of tab3 after merge:  (331, 6)
Out of the 366 partners that disbursed loans, KIVA had the contact details of 90.0% of them.
</pre></div>
</div>
</div>
</div>
<p>The partners that received the most funding by KIVA were:</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># to have more details of the partners that received the most funding by KIVA,</span>
<span class="c1"># sort the results in descending order</span>
<span class="n">tab3</span> <span class="o">=</span> <span class="n">tab3</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sum_of_funded_amount&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># drop the unecessary columns</span>
<span class="n">tab3</span> <span class="o">=</span> <span class="n">tab3</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;count_of_amount&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># display top 10 results; do they match with the original tab3? They match!</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="n">tab3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">1000000</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Kiva donor overall contribution (in million USD)&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Field partners&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;FIELD PARTNERS THAT RECEIVED THE MOST FUNDING ON KIVA&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_36_0.png" src="../_images/kiva_36_0.png" />
</div>
</div>
<p>The partners that serviced the highest number of loans on KIVA were:</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sort the results in descending order</span>
<span class="n">tab3</span> <span class="o">=</span> <span class="n">tab3</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># display top 10 results in terms of number of loans</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">tab3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Total number of loans on Kiva&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Top 10 Field partners&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;FIELD PARTNERS THAT SERVICED THE HIGHEST LOANS ON KIVA&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_38_0.png" src="../_images/kiva_38_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># add a calculated column to the newly merged tab3</span>
<span class="n">tab3</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;contribution_per_loan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tab3</span><span class="p">[</span><span class="s1">&#39;sum_of_funded_amount&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">tab3</span><span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">]</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">tab3</span> <span class="o">=</span> <span class="n">tab3</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;contribution_per_loan&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># display top 20 results in terms of donor contribution per loan</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">tab3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Kiva donor contribution per loan&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Top 20 Field partners&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;FIELD PARTNERS THAT RECEIVED THE MOST VALUABLE LOANS ON KIVA&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_39_0.png" src="../_images/kiva_39_0.png" />
</div>
</div>
<p>The per capita contribution shows most of the largest contributions per loan actually went directly to social impact businesses.</p>
<br>
<br>
</section>
<section id="the-characteristics-of-kiva-borrowers">
<h4>The characteristics of KIVA borrowers<a class="headerlink" href="#the-characteristics-of-kiva-borrowers" title="Permalink to this headline">#</a></h4>
<p>In this section, we seek to understand KIVA borrower characteristics.</p>
<br>
<p><em><strong>1. What is the size of the shortfall for each individual borrower in a given sector?</strong></em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a pivot-table</span>
<span class="n">tab6</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sector&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">tab6</span> <span class="o">=</span> <span class="n">tab6</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># rename the aggregated column to an appropiate label</span>
<span class="n">tab6</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sum_of_funded_amount&#39;</span><span class="p">]</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">tab6</span> <span class="o">=</span> <span class="n">tab6</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sector&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create another pivot-table</span>
<span class="n">loans_by_sector</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sector&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">loans_by_sector</span> <span class="o">=</span> <span class="n">loans_by_sector</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># rename the aggregated column to an appropiate label</span>
<span class="n">loans_by_sector</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">]</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">loans_by_sector</span> <span class="o">=</span> <span class="n">loans_by_sector</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sector&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a third pivot-table</span>
<span class="n">loan_amounts_by_sector</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;loan_amount&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sector&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">loan_amounts_by_sector</span> <span class="o">=</span> <span class="n">loan_amounts_by_sector</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;loan_amount&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># rename the aggregated column to an appropiate label</span>
<span class="n">loan_amounts_by_sector</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sum_of_loan_amount&#39;</span><span class="p">]</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">loan_amounts_by_sector</span> <span class="o">=</span> <span class="n">loan_amounts_by_sector</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sector&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># initial status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab6 before merge: &#39;</span><span class="p">,</span> <span class="n">tab6</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># join the data, keeping only relevant entries</span>
<span class="n">tab6</span> <span class="o">=</span> <span class="n">tab6</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">loans_by_sector</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;sector&#39;</span><span class="p">)</span>

<span class="c1"># final status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab6 after merge: &#39;</span><span class="p">,</span> <span class="n">tab6</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>


<span class="c1"># initial status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab6 before merge: &#39;</span><span class="p">,</span> <span class="n">tab6</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># join the data, keeping only relevant entries</span>
<span class="n">tab6</span> <span class="o">=</span> <span class="n">tab6</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">loan_amounts_by_sector</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;sector&#39;</span><span class="p">)</span>

<span class="c1"># final status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab6 after merge: &#39;</span><span class="p">,</span> <span class="n">tab6</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The shape of tab6 before merge:  (15, 2)
The shape of tab6 after merge:  (15, 3)
The shape of tab6 before merge:  (15, 3)
The shape of tab6 after merge:  (15, 4)
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># assess additional metrics</span>
<span class="n">tab6</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;donor_contribution_per_loan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tab6</span><span class="p">[</span><span class="s1">&#39;sum_of_funded_amount&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">tab6</span><span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">]</span>
<span class="n">tab6</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;funding_gap_per_loan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">tab6</span><span class="p">[</span><span class="s1">&#39;sum_of_loan_amount&#39;</span><span class="p">]</span><span class="o">+</span><span class="n">tab6</span><span class="p">[</span><span class="s1">&#39;sum_of_funded_amount&#39;</span><span class="p">])</span><span class="o">/</span><span class="n">tab6</span><span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">]</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">tab6</span> <span class="o">=</span> <span class="n">tab6</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;donor_contribution_per_loan&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># display all results</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab6</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">tab6</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Kiva donor contribution per loan&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab6</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Sectors&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;SECTORS THAT RECEIVED THE MOST VALUABLE LOANS ON KIVA&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_45_0.png" src="../_images/kiva_45_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sort the results in descending order</span>
<span class="n">tab6</span> <span class="o">=</span> <span class="n">tab6</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;funding_gap_per_loan&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># display all results</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab6</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">tab6</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">5</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;crimson&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Funding gap per loan&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab6</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Sectors&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;SECTORS THAT HAD THE LARGEST FUNDING GAP ON KIVA&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_46_0.png" src="../_images/kiva_46_0.png" />
</div>
</div>
<p>In as much as Entertainment has the second most valuable loans, it appears that this sector had the highest funding gap. Manufacturing had the lowest funding gap.</p>
<br>
<p><em><strong>2. How were loans and funding distributed across the genders?</strong></em></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">loan_data_copy</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;number_of_all_borrowers&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;borrower_genders&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;male&#39;</span><span class="p">)</span> <span class="c1"># counts both instances of female and male - they share the &#39;male&#39; element</span>
<span class="n">loan_data_copy</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;number_of_female_borrowers&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;borrower_genders&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;female&#39;</span><span class="p">)</span>
<span class="n">loan_data_copy</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;number_of_male_borrowers&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;number_of_all_borrowers&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;number_of_female_borrowers&#39;</span><span class="p">]</span>


<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;We had borrower data on&#39;</span><span class="p">,</span>
      <span class="nb">round</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;number_of_all_borrowers&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">/</span><span class="n">loan_data_copy</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
      <span class="s1">&#39;</span><span class="si">% o</span><span class="s1">f the loans recorded&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>We had borrower data on 99.37 % of the loans recorded
</pre></div>
</div>
</div>
</div>
<p><u><strong>How different genders group together to borrow on Kiva</strong></u></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a pivot-table</span>
<span class="n">borrower_group_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;number_of_male_borrowers&#39;</span><span class="p">,</span> <span class="s1">&#39;number_of_female_borrowers&#39;</span><span class="p">],</span>
                                     <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;number_of_all_borrowers&#39;</span><span class="p">],</span><span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>
<span class="c1">#N/B: Using the count gives the total number of loans with borrower data; we need the sum to see the gender distribution across group size</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">borrower_group_data</span> <span class="o">=</span> <span class="n">borrower_group_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;number_of_all_borrowers&#39;</span><span class="p">])</span>


<span class="c1"># display the results</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">borrower_group_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">borrower_group_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span>
       <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Men&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">borrower_group_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">borrower_group_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span>
       <span class="n">bottom</span><span class="o">=</span><span class="n">borrower_group_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Women&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#cbcce7&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Number of borrowers&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Size of borrower groups&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;GENDER AND SIZE OF BORROWER GROUPS&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_50_0.png" src="../_images/kiva_50_0.png" />
</div>
</div>
<p>The graph above shows that most people preferred to borrow as individuals; however, there were substantially larger numbers of women in each group size compared to men.</p>
<p><u><strong>Most common nationalities for the different genders</strong></u></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a pivot-table</span>
<span class="n">borrower_country_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;number_of_male_borrowers&#39;</span><span class="p">,</span> <span class="s1">&#39;number_of_female_borrowers&#39;</span><span class="p">],</span>
                                       <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">],</span><span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>


<span class="c1"># sort the male results in descending order</span>
<span class="n">borrower_country_data</span> <span class="o">=</span> <span class="n">borrower_country_data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;number_of_male_borrowers&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">borrower_country_data</span> <span class="o">=</span> <span class="n">borrower_country_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">])</span>


<span class="c1"># display the results</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">borrower_country_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">borrower_country_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
       <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Men&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">borrower_country_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">borrower_country_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
       <span class="n">bottom</span><span class="o">=</span><span class="n">borrower_country_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Women&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#cbcce7&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">borrower_country_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Number of borrowers&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Top 10 countries for men&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;NUMBER OF BORROWERS BY GENDER AND COUNTRY&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_52_0.png" src="../_images/kiva_52_0.png" />
</div>
</div>
<p>The country with the highest number of male borrowers was Kenya, while the country where men formed the majority of KIVA borrowers was Nigeria.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sort the female results in descending order</span>
<span class="n">borrower_country_data</span> <span class="o">=</span> <span class="n">borrower_country_data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;number_of_female_borrowers&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># display the results</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">borrower_country_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">borrower_country_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
       <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Men&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">borrower_country_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">borrower_country_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
       <span class="n">bottom</span><span class="o">=</span><span class="n">borrower_country_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Women&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#cbcce7&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">borrower_country_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span>
                   <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Number of borrowers&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Top 10 countries for women&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;NUMBER OF BORROWERS BY GENDER AND COUNTRY&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_54_0.png" src="../_images/kiva_54_0.png" />
</div>
</div>
<p>The country with the highest number of female borrowers was the Philippines, it can also be observed that nearly all borrowers were women in Paraguay and Senegal, while India appears to consist of only female borrowers.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a pivot-table</span>
<span class="n">tab7</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;term_in_months&#39;</span><span class="p">,</span> <span class="s1">&#39;number_of_all_borrowers&#39;</span><span class="p">,</span> <span class="s1">&#39;number_of_male_borrowers&#39;</span><span class="p">,</span> <span class="s1">&#39;number_of_female_borrowers&#39;</span><span class="p">,</span> <span class="s1">&#39;loan_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;funded_amount&#39;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;repayment_interval&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">tab7</span> <span class="o">=</span> <span class="n">tab7</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;number_of_all_borrowers&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">tab7</span> <span class="o">=</span> <span class="n">tab7</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;repayment_interval&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create another pivot-table</span>
<span class="n">loan_repayment</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;repayment_interval&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">loan_repayment</span> <span class="o">=</span> <span class="n">loan_repayment</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># rename the aggregated column to an appropiate label</span>
<span class="n">loan_repayment</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">]</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">loan_repayment</span> <span class="o">=</span> <span class="n">loan_repayment</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;repayment_interval&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># initial status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab7 before merge: &#39;</span><span class="p">,</span> <span class="n">tab7</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># join the data, keeping only relevant entries</span>
<span class="n">tab7</span> <span class="o">=</span> <span class="n">tab7</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">loan_repayment</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;repayment_interval&#39;</span><span class="p">)</span>

<span class="c1"># final status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab7 after merge: &#39;</span><span class="p">,</span> <span class="n">tab7</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The shape of tab7 before merge:  (4, 7)
The shape of tab7 after merge:  (4, 8)
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Present findings in more digestible formats by:</span>

<span class="c1"># 1. Converting total borrowers to male and female proportions</span>
<span class="n">tab7</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;female_pct_of_total_borrowers&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;number_of_female_borrowers&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;number_of_all_borrowers&#39;</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">tab7</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;male_pct_of_total_borrowers&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;number_of_male_borrowers&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;number_of_all_borrowers&#39;</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># 2. Extracting funding amounts based on gender</span>
<span class="n">tab7</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;million_USD_female_total_funding&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;female_pct_of_total_borrowers&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">100</span><span class="o">*</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">])</span><span class="o">/</span><span class="mi">1000000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">tab7</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;million_USD_male_total_funding&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;male_pct_of_total_borrowers&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">100</span><span class="o">*</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">])</span><span class="o">/</span><span class="mi">1000000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># 3. Extracting loan amounts based on gender</span>
<span class="n">tab7</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;million_USD_female_total_loan_amount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;female_pct_of_total_borrowers&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">100</span><span class="o">*</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;loan_amount&#39;</span><span class="p">])</span><span class="o">/</span><span class="mi">1000000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">tab7</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;million_USD_male_total_loan_amount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;male_pct_of_total_borrowers&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">100</span><span class="o">*</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;loan_amount&#39;</span><span class="p">])</span><span class="o">/</span><span class="mi">1000000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># 4. Extracting funding gaps based on gender</span>
<span class="n">tab7</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;million_female_funding_gap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;million_USD_female_total_loan_amount&#39;</span><span class="p">]</span><span class="o">+</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;million_USD_female_total_funding&#39;</span><span class="p">]</span>
<span class="n">tab7</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;million_male_funding_gap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;million_USD_male_total_loan_amount&#39;</span><span class="p">]</span><span class="o">+</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;million_USD_male_total_funding&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># drop raw data columns</span>
<span class="n">tab7</span> <span class="o">=</span> <span class="n">tab7</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;loan_amount&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;number_of_all_borrowers&#39;</span><span class="p">,</span> <span class="s1">&#39;number_of_female_borrowers&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;number_of_male_borrowers&#39;</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><u><strong>Funding received based on gender</strong></u></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># display summary of funding by gender</span>

<span class="n">status</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Total male funding&#39;</span><span class="p">,</span><span class="s1">&#39;Total female funding&#39;</span><span class="p">]</span>

<span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;million_USD_male_total_funding&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;million_USD_female_total_funding&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()]</span>

<span class="n">fig1</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.2f%%</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
        <span class="n">colors</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">,</span><span class="s1">&#39;#cbcce7&#39;</span><span class="p">]))</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>  <span class="c1"># Equal aspect ratio ensures that pie is drawn as a circle.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_62_0.png" src="../_images/kiva_62_0.png" />
</div>
</div>
<p><u><strong>Total loan amounts taken by each gender</strong></u></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># display loan amounts by gender</span>

<span class="n">status</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Total loan taken by men&#39;</span><span class="p">,</span><span class="s1">&#39;Total loan taken by women&#39;</span><span class="p">]</span>

<span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;million_USD_male_total_loan_amount&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;million_USD_female_total_loan_amount&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()]</span>

<span class="n">fig1</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.2f%%</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
        <span class="n">colors</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">,</span><span class="s1">&#39;#cbcce7&#39;</span><span class="p">]))</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>  <span class="c1"># Equal aspect ratio ensures that pie is drawn as a circle.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_64_0.png" src="../_images/kiva_64_0.png" />
</div>
</div>
<p><u><strong>Loan repayment behaviour based on gender</strong></u></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display summary of loan repayment behaviour by gender</span>
<span class="c1"># 1. Men</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span>
       <span class="p">(</span><span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">2</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">]</span><span class="o">/</span><span class="mi">100</span><span class="p">),</span>
       <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Men&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Loan term per loan&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Repayment interval&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;LOAN REPAYMENT BEHAVIOUR&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_66_0.png" src="../_images/kiva_66_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2. Women</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span>
       <span class="p">(</span><span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">2</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">3</span><span class="p">]</span><span class="o">/</span><span class="mi">100</span><span class="p">),</span>
       <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Women&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#cbcce7&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Loan term per loan&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Repayment interval&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;LOAN REPAYMENT BEHAVIOUR&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_67_0.png" src="../_images/kiva_67_0.png" />
</div>
</div>
<p>In as much as most men and women consistently paid off long-term loans on a monthly basis, women had a much larger time horizon to pay off their loans in general.</p>
<p>Additionally, a significant amount of data on repayment behaviour is missing for both genders (missing data is represented as the â€˜bullet groupâ€™).</p>
<p><u><strong>Funding gap in millions faced by each gender</strong></u></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># display summary of funding gap by gender</span>

<span class="n">status</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Male funding gap&#39;</span><span class="p">,</span><span class="s1">&#39;Female funding gap&#39;</span><span class="p">]</span>

<span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="nb">abs</span><span class="p">(</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;million_male_funding_gap&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;million_male_funding_gap&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())]</span>

<span class="n">fig1</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">status</span><span class="p">,</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.2f%%</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
        <span class="n">colors</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;#7e81c4&#39;</span><span class="p">,</span><span class="s1">&#39;#cbcce7&#39;</span><span class="p">]))</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>  <span class="c1"># Equal aspect ratio ensures that pie is drawn as a circle.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;In this instance, both men and women have the same size of funding gap, </span><span class="si">{}</span><span class="s1"> million US dollars</span><span class="se">\n</span><span class="s1">over the time period the data was collected.&#39;</span>
      <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span>
          <span class="nb">abs</span><span class="p">(</span><span class="n">tab7</span><span class="p">[</span><span class="s1">&#39;million_male_funding_gap&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()),</span>
          <span class="mi">2</span><span class="p">)</span>
             <span class="p">)</span>
     <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_69_0.png" src="../_images/kiva_69_0.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>In this instance, both men and women have the same size of funding gap, 10.19 million US dollars
over the time period the data was collected.
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># display summary of the funding gap by gender and monthly repayment behaviour</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">10</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Men&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">9</span><span class="p">],</span> <span class="n">bottom</span><span class="o">=</span><span class="n">tab7</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">10</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Women&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;crimson&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Funding gap (millions)&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Repayment interval&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;SIZE OF FUNDING GAP&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_70_0.png" src="../_images/kiva_70_0.png" />
</div>
</div>
<p>The graph above indicates that in as much as women are getting much more funding than men, those in the monthly repayment group still have a significant funding gap. Furthermore, the second-largest funding gap was not from those people belonging to the irregular payments group, but those belonging to the group that had missing data on payment behaviour. This makes sense because there may be a lack of trust that makes KIVA donors not foot the entire loan of those with missing repayment plans.</p>
<br>
<br>
</section>
</section>
<section id="global-welfare">
<h3>Global welfare<a class="headerlink" href="#global-welfare" title="Permalink to this headline">#</a></h3>
<p>In this section, we seek to explore the data to understand the financial well-being of various countries with the aid of an external dataset</p>
<p><em><strong>1. What percentage of their monthly expenditure does the average citizen devote to loan repayments?</strong></em></p>
<p>The purchasing power of various countries of the world can be visualized in the form of the monthly income table below:</p>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Made a copy of the data: </span>
<span class="n">expenditure</span> <span class="o">=</span> <span class="n">PCE_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Convert any &#39;n/a&#39; strings to NaN values</span>
<span class="n">expenditure</span> <span class="o">=</span> <span class="n">expenditure</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;n/a&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>

<span class="c1"># Convert any numeric data stored as a string into a decimal</span>
<span class="n">cols</span> <span class="o">=</span> <span class="n">expenditure</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">61</span><span class="p">]</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">:</span>
    <span class="n">expenditure</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">expenditure</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">:</span>
    <span class="n">expenditure</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">expenditure</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
    
<span class="n">MonthlyExpenditure</span> <span class="o">=</span> <span class="p">(</span><span class="n">expenditure</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;2013&#39;</span><span class="p">:</span><span class="s1">&#39;2017&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span><span class="o">/</span><span class="mi">12</span>

<span class="n">MonthlyExpenditure</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;country&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">expenditure</span><span class="p">[</span><span class="s1">&#39;Country&#39;</span><span class="p">]</span>

<span class="c1"># Drop any null columns</span>
<span class="n">MonthlyExpenditure</span> <span class="o">=</span> <span class="n">MonthlyExpenditure</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="n">MonthlyExpenditure</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>2013</th>
      <th>2014</th>
      <th>2015</th>
      <th>2016</th>
      <th>2017</th>
      <th>country</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>582.357500</td>
      <td>586.271667</td>
      <td>584.475000</td>
      <td>591.529167</td>
      <td>592.816667</td>
      <td>American Samoa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>61.932500</td>
      <td>63.661667</td>
      <td>66.361667</td>
      <td>69.737500</td>
      <td>71.814167</td>
      <td>Cambodia</td>
    </tr>
    <tr>
      <th>3</th>
      <td>175.452500</td>
      <td>190.616667</td>
      <td>206.155833</td>
      <td>223.367500</td>
      <td>243.301667</td>
      <td>China</td>
    </tr>
    <tr>
      <th>5</th>
      <td>164.263333</td>
      <td>170.690000</td>
      <td>176.700000</td>
      <td>183.363333</td>
      <td>190.249167</td>
      <td>Indonesia</td>
    </tr>
    <tr>
      <th>6</th>
      <td>121.336667</td>
      <td>124.944167</td>
      <td>137.075833</td>
      <td>141.720833</td>
      <td>145.214167</td>
      <td>Kiribati</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>179</th>
      <td>91.753333</td>
      <td>91.670000</td>
      <td>92.621667</td>
      <td>93.139167</td>
      <td>93.662500</td>
      <td>Sudan</td>
    </tr>
    <tr>
      <th>180</th>
      <td>42.089167</td>
      <td>42.224167</td>
      <td>43.976667</td>
      <td>43.604167</td>
      <td>43.282500</td>
      <td>Tanzania</td>
    </tr>
    <tr>
      <th>181</th>
      <td>36.333333</td>
      <td>37.132500</td>
      <td>37.786667</td>
      <td>38.175000</td>
      <td>37.630833</td>
      <td>Togo</td>
    </tr>
    <tr>
      <th>182</th>
      <td>54.592500</td>
      <td>54.118333</td>
      <td>57.973333</td>
      <td>56.637500</td>
      <td>54.675000</td>
      <td>Uganda</td>
    </tr>
    <tr>
      <th>184</th>
      <td>84.350833</td>
      <td>80.766667</td>
      <td>94.590000</td>
      <td>83.371667</td>
      <td>83.315833</td>
      <td>Zimbabwe</td>
    </tr>
  </tbody>
</table>
<p>156 rows Ã— 6 columns</p>
</div></div></div>
</div>
<br>
<p>In turn, the monthly repayments of various countries of the world can be visualized in the form of the monthly repayments table below:</p>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get the monthly repayment on each loan</span>
<span class="n">loan_data_copy</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;monthly_loan_repayment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;loan_amount&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;term_in_months&#39;</span><span class="p">]</span>

<span class="c1"># get the year that the loan was issued</span>
<span class="n">loan_data_copy</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;disbursement_year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">loan_data</span><span class="p">[</span><span class="s1">&#39;disbursed_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>

<span class="c1"># create a pivot-table</span>
<span class="n">tab8</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;monthly_loan_repayment&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;disbursement_year&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span>

<span class="c1"># drop level and rename columns</span>
<span class="n">tab8</span> <span class="o">=</span> <span class="n">tab8</span><span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="s1">&#39;disbursement_year&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">tab8</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;monthly_loan_repayment 2013&#39;</span><span class="p">,</span> <span class="s1">&#39;monthly_loan_repayment 2014&#39;</span><span class="p">,</span>
                <span class="s1">&#39;monthly_loan_repayment 2015&#39;</span><span class="p">,</span> <span class="s1">&#39;monthly_loan_repayment 2016&#39;</span><span class="p">,</span>
                <span class="s1">&#39;monthly_loan_repayment 2017&#39;</span><span class="p">]</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">tab8</span> <span class="o">=</span> <span class="n">tab8</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">])</span>

<span class="c1"># and display all results</span>
<span class="n">tab8</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>monthly_loan_repayment 2013</th>
      <th>monthly_loan_repayment 2014</th>
      <th>monthly_loan_repayment 2015</th>
      <th>monthly_loan_repayment 2016</th>
      <th>monthly_loan_repayment 2017</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>750.000000</td>
      <td>1333.333333</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Albania</td>
      <td>62.227835</td>
      <td>64.557728</td>
      <td>54.131447</td>
      <td>55.527071</td>
      <td>61.604227</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Armenia</td>
      <td>64.103653</td>
      <td>64.558263</td>
      <td>51.850628</td>
      <td>49.406712</td>
      <td>50.580462</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Azerbaijan</td>
      <td>105.071779</td>
      <td>108.725509</td>
      <td>82.548595</td>
      <td>59.692751</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Belize</td>
      <td>NaN</td>
      <td>18.405275</td>
      <td>NaN</td>
      <td>22.880435</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>80</th>
      <td>Vanuatu</td>
      <td>NaN</td>
      <td>62.500000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>81</th>
      <td>Vietnam</td>
      <td>68.839701</td>
      <td>91.272779</td>
      <td>97.516549</td>
      <td>90.730029</td>
      <td>69.997056</td>
    </tr>
    <tr>
      <th>82</th>
      <td>Yemen</td>
      <td>62.567830</td>
      <td>57.303204</td>
      <td>60.290609</td>
      <td>43.056244</td>
      <td>42.720586</td>
    </tr>
    <tr>
      <th>83</th>
      <td>Zambia</td>
      <td>NaN</td>
      <td>81.800068</td>
      <td>93.311061</td>
      <td>107.013918</td>
      <td>74.278048</td>
    </tr>
    <tr>
      <th>84</th>
      <td>Zimbabwe</td>
      <td>175.857143</td>
      <td>74.398992</td>
      <td>126.842706</td>
      <td>110.083632</td>
      <td>125.510372</td>
    </tr>
  </tbody>
</table>
<p>85 rows Ã— 6 columns</p>
</div></div></div>
</div>
<br>
<p>We need to find the countries shared in common between the <a class="reference external" href="http://Kiva.org">Kiva.org</a> and the UN dataset as follows:</p>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># compare country/territory labels in the 2 datasets</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tab8</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">MonthlyExpenditure</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Afghanistan&#39; &#39;Albania&#39; &#39;Armenia&#39; &#39;Azerbaijan&#39; &#39;Belize&#39; &#39;Benin&#39; &#39;Bhutan&#39;
 &#39;Bolivia&#39; &#39;Brazil&#39; &#39;Burkina Faso&#39; &#39;Burundi&#39; &#39;Cambodia&#39; &#39;Cameroon&#39; &#39;Chile&#39;
 &#39;China&#39; &#39;Colombia&#39; &#39;Congo&#39; &#39;Costa Rica&#39; &quot;Cote D&#39;Ivoire&quot;
 &#39;Dominican Republic&#39; &#39;Ecuador&#39; &#39;Egypt&#39; &#39;El Salvador&#39; &#39;Georgia&#39; &#39;Ghana&#39;
 &#39;Guatemala&#39; &#39;Haiti&#39; &#39;Honduras&#39; &#39;India&#39; &#39;Indonesia&#39; &#39;Iraq&#39; &#39;Israel&#39;
 &#39;Jordan&#39; &#39;Kenya&#39; &#39;Kosovo&#39; &#39;Kyrgyzstan&#39; &quot;Lao People&#39;s Democratic Republic&quot;
 &#39;Lebanon&#39; &#39;Lesotho&#39; &#39;Liberia&#39; &#39;Madagascar&#39; &#39;Malawi&#39; &#39;Mali&#39; &#39;Mauritania&#39;
 &#39;Mexico&#39; &#39;Moldova&#39; &#39;Mongolia&#39; &#39;Mozambique&#39; &#39;Myanmar (Burma)&#39; &#39;Namibia&#39;
 &#39;Nepal&#39; &#39;Nicaragua&#39; &#39;Nigeria&#39; &#39;Pakistan&#39; &#39;Palestine&#39; &#39;Panama&#39; &#39;Paraguay&#39;
 &#39;Peru&#39; &#39;Philippines&#39; &#39;Puerto Rico&#39; &#39;Rwanda&#39;
 &#39;Saint Vincent and the Grenadines&#39; &#39;Samoa&#39; &#39;Senegal&#39; &#39;Sierra Leone&#39;
 &#39;Solomon Islands&#39; &#39;Somalia&#39; &#39;South Africa&#39; &#39;South Sudan&#39; &#39;Suriname&#39;
 &#39;Tajikistan&#39; &#39;Tanzania&#39; &#39;Thailand&#39; &#39;The Democratic Republic of the Congo&#39;
 &#39;Timor-Leste&#39; &#39;Togo&#39; &#39;Turkey&#39; &#39;Uganda&#39; &#39;Ukraine&#39; &#39;United States&#39;
 &#39;Vanuatu&#39; &#39;Vietnam&#39; &#39;Yemen&#39; &#39;Zambia&#39; &#39;Zimbabwe&#39;]

[&#39;American Samoa&#39; &#39;Cambodia&#39; &#39;China&#39; &#39;Indonesia&#39; &#39;Kiribati&#39; &#39;Malaysia&#39;
 &#39;Marshall Islands&#39; &#39;Mongolia&#39; &#39;Northern Mariana Islands&#39; &#39;Palau&#39;
 &#39;Philippines&#39; &#39;Thailand&#39; &#39;Timor-Leste&#39; &#39;Vietnam&#39; &#39;Albania&#39; &#39;Armenia&#39;
 &#39;Belarus&#39; &#39;Bosnia and Herzegovina&#39; &#39;Bulgaria&#39; &#39;Croatia&#39; &#39;Czech Republic&#39;
 &#39;Estonia&#39; &#39;Georgia&#39; &#39;Hungary&#39; &#39;Kazakhstan&#39; &#39;Kosovo&#39; &#39;Kyrgyz Republic&#39;
 &#39;Latvia&#39; &#39;Lithuania&#39; &#39;Moldova&#39; &#39;Montenegro&#39; &#39;North Macedonia&#39; &#39;Poland&#39;
 &#39;Romania&#39; &#39;Russian Federation&#39; &#39;Serbia&#39; &#39;Slovak Republic&#39; &#39;Slovenia&#39;
 &#39;Turkey&#39; &#39;Ukraine&#39; &#39;Uzbekistan&#39; &#39;Argentina&#39; &#39;Belize&#39; &#39;Bolivia&#39; &#39;Brazil&#39;
 &#39;Chile&#39; &#39;Colombia&#39; &#39;Costa Rica&#39; &#39;Cuba&#39; &#39;Dominican Republic&#39; &#39;Ecuador&#39;
 &#39;El Salvador&#39; &#39;Guatemala&#39; &#39;Haiti&#39; &#39;Honduras&#39; &#39;Jamaica&#39; &#39;Mexico&#39;
 &#39;Nicaragua&#39; &#39;Panama&#39; &#39;Paraguay&#39; &#39;Peru&#39; &#39;Uruguay&#39; &#39;Algeria&#39;
 &#39;Egypt, Arab Republic of&#39; &#39;Iran, Islamic Republic of&#39; &#39;Jordan&#39; &#39;Lebanon&#39;
 &#39;Morocco&#39; &#39;Oman&#39; &#39;West Bank and Gaza&#39; &#39;Australia&#39; &#39;Austria&#39;
 &#39;Bahamas, The&#39; &#39;Bahrain&#39; &#39;Belgium&#39; &#39;Brunei Darussalam&#39; &#39;Canada&#39; &#39;Cyprus&#39;
 &#39;Denmark&#39; &#39;Finland&#39; &#39;France&#39; &#39;Germany&#39; &#39;Greece&#39; &#39;Greenland&#39; &#39;Guam&#39;
 &#39;Hong Kong SAR, China&#39; &#39;Iceland&#39; &#39;Ireland&#39; &#39;Israel&#39; &#39;Italy&#39; &#39;Japan&#39;
 &#39;Korea, Republic of&#39; &#39;Kuwait&#39; &#39;Luxembourg&#39; &#39;Macao SAR, China&#39;
 &#39;Netherlands&#39; &#39;New Zealand&#39; &#39;Norway&#39; &#39;Portugal&#39; &#39;Puerto Rico&#39;
 &#39;Saudi Arabia&#39; &#39;Singapore&#39; &#39;Spain&#39; &#39;Sweden&#39; &#39;Switzerland&#39;
 &#39;United Arab Emirates&#39; &#39;United Kingdom&#39; &#39;United States&#39;
 &#39;Virgin Islands, US&#39; &#39;Bangladesh&#39; &#39;Bhutan&#39; &#39;India&#39; &#39;Nepal&#39; &#39;Pakistan&#39;
 &#39;Sri Lanka&#39; &#39;Angola&#39; &#39;Benin&#39; &#39;Botswana&#39; &#39;Burkina Faso&#39; &#39;Burundi&#39;
 &#39;Cabo Verde&#39; &#39;Cameroon&#39; &#39;Central African Republic&#39; &#39;Chad&#39; &#39;Comoros&#39;
 &#39;Congo, Democratic Republic of&#39; &#39;Congo, Republic of&#39; &quot;Cote d&#39;Ivoire&quot;
 &#39;Equatorial Guinea&#39; &#39;Eswatini&#39; &#39;Gabon&#39; &#39;Gambia, The&#39; &#39;Ghana&#39; &#39;Guinea&#39;
 &#39;Guinea-Bissau&#39; &#39;Kenya&#39; &#39;Lesotho&#39; &#39;Liberia&#39; &#39;Madagascar&#39; &#39;Malawi&#39; &#39;Mali&#39;
 &#39;Mauritania&#39; &#39;Mauritius&#39; &#39;Mozambique&#39; &#39;Namibia&#39; &#39;Niger&#39; &#39;Nigeria&#39;
 &#39;Rwanda&#39; &#39;Senegal&#39; &#39;Sierra Leone&#39; &#39;South Africa&#39; &#39;Sudan&#39; &#39;Tanzania&#39;
 &#39;Togo&#39; &#39;Uganda&#39; &#39;Zimbabwe&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># MATCH COUNTRIES IN KIVA LOAN DATA AND THOSE IN THE ORIGINAL DATASET IF THEY HAVE DIFFERENT SPELLINGS </span>

<span class="n">tab8</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">16</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Congo, Republic of&#39;</span>
<span class="n">tab8</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Cote d&#39;Ivoire&quot;</span>
<span class="n">tab8</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Egypt, Arab Republic of&#39;</span>
<span class="n">tab8</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">35</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Kyrgyz Republic&#39;</span>
<span class="n">tab8</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">48</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Myanmar&#39;</span>
<span class="n">tab8</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">54</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;West Bank and Gaza&#39;</span>
<span class="c1"># tab8.iloc[61,0] missing in other dataset</span>
<span class="c1"># tab8.iloc[62,0] missing in other dataset; only have American Samoa</span>

<span class="c1"># tab8.iloc[63,0] missing in other dataset</span>
<span class="c1"># tab8.iloc[65,0] missing in other dataset</span>
<span class="c1"># tab8.iloc[66,0] missing in other dataset</span>
<span class="n">tab8</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">73</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Congo, Democratic Republic of&#39;</span>
<span class="c1"># tab8.iloc[82,0] missing in other dataset</span>

<span class="c1">#CHECK FOR COUNTRIES NOT WITHIN EITHER ONE OF THE DATASET</span>
<span class="n">tab8</span><span class="p">[</span><span class="n">tab8</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">MonthlyExpenditure</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="kc">False</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country</th>
      <th>monthly_loan_repayment 2013</th>
      <th>monthly_loan_repayment 2014</th>
      <th>monthly_loan_repayment 2015</th>
      <th>monthly_loan_repayment 2016</th>
      <th>monthly_loan_repayment 2017</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>750.000000</td>
      <td>1333.333333</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Azerbaijan</td>
      <td>105.071779</td>
      <td>108.725509</td>
      <td>82.548595</td>
      <td>59.692751</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>30</th>
      <td>Iraq</td>
      <td>173.604827</td>
      <td>198.899334</td>
      <td>186.551621</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>36</th>
      <td>Lao People's Democratic Republic</td>
      <td>NaN</td>
      <td>122.887368</td>
      <td>76.689249</td>
      <td>78.100108</td>
      <td>55.966610</td>
    </tr>
    <tr>
      <th>48</th>
      <td>Myanmar</td>
      <td>NaN</td>
      <td>1084.647495</td>
      <td>301.828805</td>
      <td>153.652721</td>
      <td>80.601104</td>
    </tr>
    <tr>
      <th>61</th>
      <td>Saint Vincent and the Grenadines</td>
      <td>NaN</td>
      <td>43.601190</td>
      <td>91.355946</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>62</th>
      <td>Samoa</td>
      <td>45.125878</td>
      <td>64.451621</td>
      <td>56.148887</td>
      <td>63.796669</td>
      <td>60.880531</td>
    </tr>
    <tr>
      <th>65</th>
      <td>Solomon Islands</td>
      <td>NaN</td>
      <td>50.795455</td>
      <td>64.064459</td>
      <td>79.784429</td>
      <td>69.712160</td>
    </tr>
    <tr>
      <th>66</th>
      <td>Somalia</td>
      <td>NaN</td>
      <td>272.774699</td>
      <td>230.544232</td>
      <td>564.285714</td>
      <td>510.714286</td>
    </tr>
    <tr>
      <th>68</th>
      <td>South Sudan</td>
      <td>NaN</td>
      <td>75.533234</td>
      <td>44.681710</td>
      <td>NaN</td>
      <td>6250.000000</td>
    </tr>
    <tr>
      <th>69</th>
      <td>Suriname</td>
      <td>NaN</td>
      <td>331.387203</td>
      <td>232.768221</td>
      <td>263.640545</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>70</th>
      <td>Tajikistan</td>
      <td>67.230372</td>
      <td>66.099868</td>
      <td>53.060960</td>
      <td>40.184397</td>
      <td>37.572885</td>
    </tr>
    <tr>
      <th>80</th>
      <td>Vanuatu</td>
      <td>NaN</td>
      <td>62.500000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>82</th>
      <td>Yemen</td>
      <td>62.567830</td>
      <td>57.303204</td>
      <td>60.290609</td>
      <td>43.056244</td>
      <td>42.720586</td>
    </tr>
    <tr>
      <th>83</th>
      <td>Zambia</td>
      <td>NaN</td>
      <td>81.800068</td>
      <td>93.311061</td>
      <td>107.013918</td>
      <td>74.278048</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The table above shows countries that are missing in either of the datasets and will not be included.</p>
<p><strong>The percentage of monthly expenditure that the average citizen devote to loan repayments is visualized below:</strong></p>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># initial status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab8 before merge: &#39;</span><span class="p">,</span> <span class="n">tab8</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># join the data, keeping only relevant entries</span>
<span class="n">tab8</span> <span class="o">=</span> <span class="n">tab8</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">MonthlyExpenditure</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;country&#39;</span><span class="p">)</span>

<span class="c1"># final status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab8 after merge: &#39;</span><span class="p">,</span> <span class="n">tab8</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The shape of tab8 before merge:  (85, 6)
The shape of tab8 after merge:  (70, 11)
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2013&#39;</span><span class="p">,</span><span class="s1">&#39;2014&#39;</span><span class="p">,</span><span class="s1">&#39;2015&#39;</span><span class="p">,</span><span class="s1">&#39;2016&#39;</span><span class="p">,</span><span class="s1">&#39;2017&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
    <span class="n">tab8</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="sa">f</span><span class="s1">&#39;% of monthly expenditure, </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">tab8</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;monthly_loan_repayment </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">tab8</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="n">tab8</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;% of monthly expenditure, </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">tab8</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;% of monthly expenditure, </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">tab8</span> <span class="o">=</span> <span class="n">tab8</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;monthly_loan_repayment </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">tab8</span> <span class="o">=</span> <span class="n">tab8</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="si">% o</span><span class="s1">f monthly expenditure, 2017&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab8</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span>
       <span class="n">tab8</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)[</span><span class="s1">&#39;</span><span class="si">% o</span><span class="s1">f monthly expenditure, 2017&#39;</span><span class="p">],</span>
       <span class="n">color</span><span class="o">=</span><span class="s1">&#39;crimson&#39;</span><span class="p">)</span>

<span class="c1">#plt.ylabel(&#39;Funding gap per loan&#39;)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab8</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="c1">#plt.xlabel(&#39;Sectors&#39;)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;COUNTRIES WITH THE HEAVIEST LOAN BURDEN&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab8</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span>
       <span class="n">tab8</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">)[</span><span class="s1">&#39;</span><span class="si">% o</span><span class="s1">f monthly expenditure, 2017&#39;</span><span class="p">],</span>
       <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>

<span class="c1">#plt.ylabel(&#39;Funding gap per loan&#39;)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab8</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="c1">#plt.xlabel(&#39;Sectors&#39;)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;COUNTRIES WITH THE LIGHTEST LOAN BURDEN&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_81_0.png" src="../_images/kiva_81_0.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<img alt="../_images/kiva_81_2.png" src="../_images/kiva_81_2.png" />
</div>
</div>
<br>
<p><em><strong>2. What geographical regions have the highest and lowest levels of poverty?</strong></em></p>
<p>This is measured by the Multidimensional Poverty Index (MPI). This was obtained as follows:</p>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">loan_data_copy</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of null values in the &quot;region&quot; column: &#39;</span><span class="p">,</span><span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of null values in the &quot;country_code&quot; column: &#39;</span><span class="p">,</span><span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;country_code&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of null values in the &quot;country&quot; column: &#39;</span><span class="p">,</span><span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;N/B: &#39;</span><span class="p">,</span> <span class="n">loan_data_copy</span><span class="p">[</span><span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">location_data</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="kc">False</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
      <span class="s1">&#39;number of loan records have regions that are not covered in both datasets.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;     &#39;</span><span class="p">,</span> <span class="n">loan_data_copy</span><span class="p">[</span><span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">location_data</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="kc">False</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
      <span class="s1">&#39;number of loan records have countries that are not covered in both datasets.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(671205, 26)
Number of null values in the &quot;region&quot; column:  56800
Number of null values in the &quot;country_code&quot; column:  8
Number of null values in the &quot;country&quot; column:  0

N/B:  558379 number of loan records have regions that are not covered in both datasets.
      80765 number of loan records have countries that are not covered in both datasets.
</pre></div>
</div>
</div>
</div>
<p><strong>Based on country:</strong></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s first get a national average for MPI</span>
<span class="c1"># create a pivot-table</span>
<span class="n">tab9</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">location_data</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MPI&#39;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;min&#39;</span><span class="p">)</span>

<span class="c1"># rename the MPI</span>
<span class="n">tab9</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;national_minimum_of_MPI&#39;</span><span class="p">]</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">tab9</span> <span class="o">=</span> <span class="n">tab9</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">])</span>

<span class="c1"># sort the results in descending order</span>
<span class="n">tab9</span> <span class="o">=</span> <span class="n">tab9</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;national_minimum_of_MPI&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># display all results</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab9</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">tab9</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;crimson&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;MPI (national minimum)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab9</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Top 10 countries&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;COUNTRIES THAT HAD THE HIGHEST LEVEL OF POVERTY AS AT 2017&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># sort the results in ascending order</span>
<span class="n">tab9</span> <span class="o">=</span> <span class="n">tab9</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;national_minimum_of_MPI&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># display all results</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab9</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">tab9</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;MPI (national minimum)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab9</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Bottom 10 countries&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;COUNTRIES THAT HAD THE LOWEST LEVEL OF POVERTY AS AT 2017&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_85_0.png" src="../_images/kiva_85_0.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<img alt="../_images/kiva_85_2.png" src="../_images/kiva_85_2.png" />
</div>
</div>
<br>
<p>Based on the results above, countries with high MPI values are not receiving the most funding - in fact, El-Salvador, a country with one of the lowest MPI scores was one of the top 10 countries that received the most funding.</p>
<p><strong>Based on in-country regions:</strong></p>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">region_data</span> <span class="o">=</span> <span class="n">loan_data_copy</span><span class="p">[</span><span class="n">loan_data_copy</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">location_data</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="kc">True</span><span class="p">]</span>
<span class="n">region_data</span> <span class="o">=</span> <span class="n">region_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">tab10</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">region_data</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;funded_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;loan_amount&#39;</span><span class="p">,</span>
                                            <span class="s1">&#39;number_of_all_borrowers&#39;</span><span class="p">,</span> <span class="s1">&#39;monthly_loan_repayment&#39;</span><span class="p">],</span>
                       <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">tab10</span> <span class="o">=</span> <span class="n">tab10</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">])</span>

<span class="n">tab11</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">region_data</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
                       <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>

<span class="c1"># rename the aggregated column</span>
<span class="n">tab11</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;number_of_loans&#39;</span><span class="p">]</span>

<span class="c1"># make some index entries into columns</span>
<span class="n">tab11</span> <span class="o">=</span> <span class="n">tab11</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># initial status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab10 before merge: &#39;</span><span class="p">,</span> <span class="n">tab10</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># join the data, keeping only relevant entries</span>
<span class="n">tab10</span> <span class="o">=</span> <span class="n">tab10</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">tab11</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;region&#39;</span><span class="p">)</span>

<span class="c1"># final status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab10 after merge: &#39;</span><span class="p">,</span> <span class="n">tab10</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>


<span class="c1"># initial status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab10 before merge: &#39;</span><span class="p">,</span> <span class="n">tab10</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># join the data, keeping only relevant entries</span>
<span class="n">tab10</span> <span class="o">=</span> <span class="n">tab10</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">location_data</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;region&#39;</span><span class="p">)</span>

<span class="c1"># final status message</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shape of tab10 after merge: &#39;</span><span class="p">,</span> <span class="n">tab10</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The shape of tab10 before merge:  (131, 5)
The shape of tab10 after merge:  (131, 6)
The shape of tab10 before merge:  (131, 6)
The shape of tab10 after merge:  (144, 14)
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sort the results in descending order</span>
<span class="n">tab10</span> <span class="o">=</span> <span class="n">tab10</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MPI&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># display all results</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab10</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="n">tab10</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;crimson&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;MPI&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab10</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Top 10 regions&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;REGIONS THAT HAD THE HIGHEST LEVEL OF POVERTY AS AT 2017&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># sort the results in ascending order</span>
<span class="n">tab10</span> <span class="o">=</span> <span class="n">tab10</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MPI&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># display all results</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">tab10</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="n">tab10</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;MPI&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">tab10</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(</span><span class="mi">90</span><span class="p">),</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Bottom 10 regions&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;REGIONS THAT HAD THE LOWEST LEVEL OF POVERTY AS AT 2017&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/kiva_89_0.png" src="../_images/kiva_89_0.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<img alt="../_images/kiva_89_2.png" src="../_images/kiva_89_2.png" />
</div>
</div>
<p>Peru has the third highest number of loans and it is the third most funded country; based on the graph above, it has 3 regions among countries with the lowest MPI scores with the fourth region having an unknown MPI score.</p>
</section>
</section>
<section id="conclusions">
<h2>Conclusions<a class="headerlink" href="#conclusions" title="Permalink to this headline">#</a></h2>
<p>The welfare of borrowers that receive the largest amount of funding on Kiva can be viewed as good because:</p>
<ul class="simple">
<li><p>Women form the bulk of the borrowers and they receive the highest number of funds, even as they have the highest shortfall.</p></li>
<li><p>Countries like Peru and El Salvador which based on the data have low MPI scores have received a lot of funding</p></li>
<li><p>The most valuable partnerships are those with social impact businesses, which implies that they are able to hanle regular payments as they make an income from their goods and services</p></li>
<li><p>Few borrowers are taking loans for personal use</p></li>
<li><p>Kenya and the Phillipines have a lot of funding for small loans; this implies that massive impact is being achieved in these countries because the loans are small enough to pay back and monthly repayments are taking up only 50% or less of their monthly income</p></li>
</ul>
<p>With that said, it is concerning to see that countries that have many more people in need are not accessing large amounts of funds; furthermore, even when they do, places like Burkina Faso, Sierra Leone and Mali had a high debt burden, trapping borrowers from these countries in poverty.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./ml"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="data-storytelling-past-projects.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Past data stories</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="nlp.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Welcome to Natural Language Processing!</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Cynthia Thinwa<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>